# 小六壬项目

## 核心算法规则

### 六神排布（三指六节横向排列）
```
        食指      中指    无名指
  上节  │留连│ → │速喜│ → │赤口│
          ↑                 ↓
  下节  │大安│ ← │空亡│ ← │小吉│
```

### 掐算顺序（顺时针）
大安(1) → 留连(2) → 速喜(3) → 赤口(4) → 小吉(5) → 空亡(6) → 循环

### 计算公式
- 月份：`(lunarMonth - 1) % 6` — 正月起大安
- 日期：`(monthIndex + lunarDay - 1) % 6` — 从月落点起数
- 时辰：`(dayIndex + hourIndex - 1) % 6` — 从日落点起数

### 时辰对应
| 序号 | 时辰 | 时间 |
|------|------|------|
| 1 | 子时 | 23:00-01:00 |
| 2 | 丑时 | 01:00-03:00 |
| 3 | 寅时 | 03:00-05:00 |
| 4 | 卯时 | 05:00-07:00 |
| 5 | 辰时 | 07:00-09:00 |
| 6 | 巳时 | 09:00-11:00 |
| 7 | 午时 | 11:00-13:00 |
| 8 | 未时 | 13:00-15:00 |
| 9 | 申时 | 15:00-17:00 |
| 10 | 酉时 | 17:00-19:00 |
| 11 | 戌时 | 19:00-21:00 |
| 12 | 亥时 | 21:00-23:00 |

### 六神属性
| 六神 | 五行 | 吉凶 | 位置 |
|------|------|------|------|
| 大安 | 木 | 吉 | 食指下节 |
| 留连 | 水 | 平 | 食指上节 |
| 速喜 | 火 | 吉 | 中指上节 |
| 赤口 | 金 | 凶 | 无名指上节 |
| 小吉 | 木 | 吉 | 无名指下节 |
| 空亡 | 土 | 凶 | 中指下节 |

## 开发原则

**保持简洁，灵活思考**
- 理解需求背后的意图，而非机械执行字面指令
- UI 设计遵循"够用即可"原则，避免视觉过载

## 技术栈
- Next.js 15+ (App Router)
- pnpm
- TypeScript
- Tailwind CSS
- lunar-javascript（农历转换）

## 开发命令
```bash
pnpm dev      # 启动开发服务器
pnpm build    # 构建生产版本
pnpm lint     # 代码检查
```

## 项目结构
```
src/
├── app/
│   ├── layout.tsx
│   ├── page.tsx          # 主页
│   └── globals.css
├── components/
│   ├── HandDiagram.tsx   # 手掌图示组件
│   ├── Result.tsx        # 结果展示组件
│   └── DatePicker.tsx    # 农历日期选择器
├── lib/
│   ├── xiaoliu.ts        # 小六壬核心算法
│   └── lunar.ts          # 农历转换工具
└── types/
    └── lunar-javascript.d.ts  # 类型声明
```
